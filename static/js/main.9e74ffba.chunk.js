(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,a){},19:function(e,t,a){e.exports=a.p+"static/media/overlay.c4334bec.png"},23:function(e,t,a){e.exports=a(38)},28:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),o=a(18),r=a.n(o),c=(a(28),a(5)),s=a(6),l=a(9),d=a(8),u=a(10),m=a(20),h=a(7),g=["".concat("/web-bridge-playground","/web_bridge.js")],p=new(function(){function e(){Object(c.a)(this,e),this.libs=g,this.loadedLib=[],this.numOfLib=0}return Object(s.a)(e,[{key:"enable",value:function(){var e="_gatap_force_disable_";"function"===typeof window[e]&&window[e](!0);var t=window.WebViewJavascriptBridge;t.init(),window.bridgeRegisterHandler=t.registerHandler,window.bridgeCallHandler=t.callHandler,(0,window.bridgeCallHandler)("configurePage",{navbar:{title:"Web Bridge Showcase",hideBackButton:1,showCloseIcon:1}})}},{key:"load",value:function(){var e=this;this.numOfLib=this.libs.length,this.libs.forEach(function(t){e.createScriptTag(t).then(function(){e.loadedLib.push(t),e.numOfLib===e.loadedLib.length&&e.enable()}).catch(function(){})})}},{key:"createScriptTag",value:function(e){return new Promise(function(t,a){var n=document.getElementsByTagName("head")[0],i=document.createElement("script");i.type="text/javascript",i.async=!1,i.src=e;var o=!1,r=!1,c=i.onreadystatechange=function(){return o?s():r?l("err"):void("complete"===i.readyState?s():"error"===i.readyState&&l("err"))},s=function(){o=!0,t(e)},l=function(t){r=!0,void 0!==t.type&&"error"===t.type?console.error("Failed load resource from ".concat(e)):console.error("Failed create element"),a(e)};return i.addEventListener("load",s),i.addEventListener("error",l),n.appendChild(i),c()})}}]),e}()),w=a(19),b=a.n(w),v=(a(16),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(d.a)(t).call(this,e))).showShare=function(){var e=document.getElementById("myImage").src;window.bridgeCallHandler("showSharingPanel",{title:"Share Title",sharingAppIDsTop:["facebookPhoto","facebookMessenger","twitter","instagram","lineChat"]},function(t){var a=t.status,n=t.sharingAppID;console.log(a,n),window.bridgeCallHandler("shareData",{sharingAppID:n,sharingData:{image:{imageBase64:e}}},function(e){var t=e.errorCode,a=e.errorMessage;console.log("Share result: "+t,a)})})},a.getRecentImage=function(){window.bridgeCallHandler("getRecentImage",{},function(e){console.log(e),a.setState({image:"data:image/jpeg;base64,"+e.data.image})})},a.addScreenshotListener=function(){window.bridgeRegisterHandler("registerScreenshotDetection",{},function(e){console.log(e),a.getRecentImage()})},a.addShare=function(){window.bridgeCallHandler("configurePage",{navbar:{title:"Web Bridge Showcase",hideBackButton:1,showCloseIcon:1,rightItemsConfig:{items:[{type:"button",key:"share"}]}}}),window.bridgeRegisterHandler("onEventCallback",function(e){"share"===e.key&&a.showShare()})},a.removeShare=function(){window.bridgeCallHandler("configurePage",{navbar:{title:"Web Bridge Showcase",hideBackButton:1,showCloseIcon:1,rightItemsConfig:{items:[]}}})},a.checkPermission=function(){window.bridgeCallHandler("checkAppPermission",{permissionList:["contact"]},function(e){var t=e.resultList,n=JSON.parse(t);n&&n[0]?a.showToast("Contact permission is alredy given  "):a.requestAppPermission()})},a.requestAppPermission=function(){window.bridgeCallHandler("requestAppPermission",{permissionList:["contact"],popupText:"In order to use this feature, Shopee needs to access your contact information."},function(e){"string"===typeof e?alert(e):alert(JSON.stringify(e))})},a.showPopup=function(){window.bridgeCallHandler("showPopUp",{popUp:{title:"This is a popup title!",message:"This is popup message, unfortunately this popup can't show any image.",cancelText:"Cancel Text",okText:"Ok text"}},function(e){0===e.buttonClicked&&a.showShare()})},a.showToast=function(e){window.bridgeCallHandler("showToast",{toast:{iconType:"success",message:e}})},a.navigate=function(){var e="".concat(window.location.href,"other");window.bridgeCallHandler("navigate",{url:e})},a.dimNavbar=function(){window.bridgeCallHandler("dimNavbar",{isDim:!0,color:"000000",alpha:.5}),a.setState({isDim:!0})},a.undimNavbar=function(){window.bridgeCallHandler("dimNavbar",{isDim:!1,color:"000000",alpha:.5}),a.setState({isDim:!1})},a.copy=function(e){window.bridgeCallHandler("copyTextToClipboard",{text:e})},a.pickImage=function(){window.bridgeCallHandler("pickImage",{maxCount:1,type:1},function(e){var t=document.getElementById("myCanvas"),a=t.getContext("2d"),n=new Image,i=new Image;n.src=e.image,n.onload=function(){a.drawImage(n,0,0,300,300),i.src=b.a,i.onload=function(){a.drawImage(i,0,0,i.naturalHeight,i.naturalWidth);var e=t.toDataURL("image/png");document.getElementById("myImage").src=e}}})},a.saveImage=function(){window.bridgeCallHandler("saveImage",{imageUrl:document.getElementById("myImage").src})},a.state={isDim:!1,visitCount:0,image:null},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"toUTF8Array",value:function(e){for(var t=[],a=0;a<e.length;a++){var n=e.charCodeAt(a);n<128?t.push(n):n<2048?t.push(192|n>>6,128|63&n):n<55296||n>=57344?t.push(224|n>>12,128|n>>6&63,128|63&n):(a++,n=(1023&n)<<10|1023&e.charCodeAt(a),t.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|63&n))}return t}},{key:"componentDidMount",value:function(){this.addScreenshotListener(),this.setState({visitCount:this.state.visitCount+1})}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"App"},i.a.createElement("div",{className:"overlay",onClick:this.undimNavbar,style:{display:this.state.isDim?"block":"none"}},i.a.createElement("div",{className:"overlay-text"},"Click anywhere to undim")),i.a.createElement("div",{className:"item",onClick:this.checkPermission},"Check contact permission"),i.a.createElement("div",{className:"item",onClick:this.showShare},"Show share menu"),i.a.createElement("div",{className:"item",onClick:this.addShare},"Add share menu to navbar"),i.a.createElement("div",{className:"item",onClick:this.removeShare},"Remove share menu to navbar"),i.a.createElement("div",{className:"item",onClick:this.showPopup},"Show popup"),i.a.createElement("div",{className:"item",onClick:this.showToast},"Show toast"),i.a.createElement("div",{className:"item",onClick:this.navigate},"Move to another page"),i.a.createElement("div",{className:"item",onClick:this.dimNavbar},"Dim navbar"),i.a.createElement("div",{className:"item",onClick:function(){return e.copy("Copy this text to clipboard!")}},"Copy this text to clipboard!"),i.a.createElement("img",{src:this.state.image}))}}]),t}(n.Component)),f=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"App"},"Try clicking the close button on the navbar or touch your phone back button!")}}]),t}(n.Component),y=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){p.load()}},{key:"render",value:function(){return i.a.createElement(m.a,null,i.a.createElement(i.a.Fragment,null,i.a.createElement(h.a,{exact:!0,path:"/",component:v}),i.a.createElement(h.a,{exact:!0,path:"/other",component:f})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[23,1,2]]]);
//# sourceMappingURL=main.9e74ffba.chunk.js.map